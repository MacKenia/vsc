<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter2</title>
</head>
<body>
    <script>
        //2.1.3 usage of variable
        var unit, room;

        //2.1.4 initial for variable
        unit = 3;
        room = 1001;
        var fname = 'Tom', age = 12;
        flag = false; // omit Var
        a = 1, b= 2;
        
        var r = 6;
        const PI = 3.14;
        const P = 2 * PI * r;
        console.log('P = ' + P);

        //2.2.2 Basic data type
        // boolean
        var flag1 = true;
        var flag2 = false;

        //Number
        var oct = 032; //八进制26
        var dec = 26; //十进制
        var hex = 0x1a; //十六进制26
        var fnum1 = 7.26; //Standard format
        var fnum2 = -6.24;
        var fnum3 = 3.14E6; //科学记数法
        var fnum4 = 8.94E-3; 
        
        //String
        var slogan = 'Knowledge';
        var str = 'the sky is blue';
        var color = '"red"blue';
        var food = "'pizza'bread";
        var num = '', total = "";
        var say1 = 'I\'m is ...';
        var say2 = "\"Tom\"";

        // NULL

        // Undefined

        //2.2.3 数据类型检测
        var num1 = 12, num2 = '34', sum = '0';
        sum = num1 + num2;
        console.log(sum);

        // typeof 操作符
        console.log(typeof num1);
        console.log(typeof num2);
        console.log(typeof sum);

        // 对象原型的扩展函数
        var data = null;
        var type = 'Null';
        Object.prototype.toString.call(data) == '[object' + type + ']';

        //2.2.4 数据类型转换
        var con =prompt();
        if (Boolean(con)){
            document.write('已输入内容');
        } else{
            document.write('无输入内容');
        }
        console.log(Boolean(con));
        console.log(Boolean(con));
        console.log(Boolean(con));

        //2转数值型

        //获取用户输入，完成自动求和
        var num1 = prompt('请输入求和的第1个数据：');
        var num2 = prompt('请输入求和的第2个数据：');
        //未处理，直接进行相加运算
        console.log(num1+num2);
        console.log(parseInt(num1) + parseInt(num2));
        console.log(parseInt('123abc'));
        console.log('F',16);

        //获取用户的输入，完成自动求和
        var num1 = prompt('请输入求和的第1个数据：');
        var num2 = prompt('请输入求和的第2个数据：');
        if (isNaN(num1) || isNaN(num2)){
            console.log('非法数字')
        }else{
            console.log(num1 + num2);
        }

        //3 转字符型
        var num1 = num2 = num3 = 4, num4 = 26;
        console.log(String(12));
        console.log(num1 + num2 + num3.toString());
        console.log(num4.toString(2));

        // 2.3 expression
        var x, y, z;
        x = 1;
        y = 2 + 3;
        z = y = x;
        console.log(z);
        console.log(x + y);

        // 2.4 operator
        // 2.4.2 string_operator
        var color = "blue";
        var str = "The sky is " + color;
        var tel = 110 + "120";
        console.log(str);
        console.log(tel);
        console.log(typeof str, typeof tel);

        // 2.4.3 assignment operator
        var a = b = c = 8;
        var num1 = 2, num2 = '2';
        num1 += 3;
        num2 += 3;
        console.log(num1, num2);

        // 2.4.4 compare operator

        // 2.4.5 logic operator
        
        // 2.4.6 ternary operator
        var age = prompt("请输入需要判断的年龄：");
        var status = age >= 18? "已成年" : "未成年";
        console.log(status);

        // 2.4.7 bit operator
        // 2.4.8 operator 
        console.log(8 + 6 * 3);
        console.log((8 + 6) * 3);

        // 2.4.9 calculate perimeter and area
        document.write("<p>圆的半径：<input id='r' type='text'></p>");
        document.write("<p>圆的周长：<input id='cir' type='text'></p>");
        document.write("<p>圆的面积：<input id='area' type='text'></p>");
        var r = prompt("请输入圆的半径");
        r = parseFloat(r) && Number(r);
        if(!isNaN(r)) {
            var cir = 2 * Math.PI * r;
            var area = Math.PI * r * r;
            document.getElementById('r').value = r;
            document.getElementById('cir').value = cir.toFixed(2);
            document.getElementById('area').value = area.toFixed(2);
        } else {
            alert("请输入正确的数字");
        }

        // 2.5.2 cycle structure
        var i = sum = 0;
        while(i <= 100) {
            if (i % 2)
            {
                sum += 1;
            }
            i++;
        }
        console.log("100以内的奇数和：" + sum);

        // do while
        var i = -2;
        do{
            console.log("i=" + i);
            ++i;
        } while (i >= 0);
        
        // for
        for(var i = 0; i < 5; ++i)
        {
            console.log("*");
        }

        // jump statement
        for (let i = 0; i < 5; ++i) {
            console.log("i=" + i);
            if(i == 3)
            {
                break;
            }
            console.log("ending");
        }

        // label
        outerLoop:
        for(var i = 0; i < 10; ++i)
        {
            for(var j = 0; j < 1; ++j)
            {
                if(i == 3)
                {
                    break outerLoop;
                }
                console.log("i=" + i + " j=" + j);
            }
        }

        // pyramid
        var level = prompt("请设置金字塔的层数");
        level = parseFloat(level) && Number(level);
        if (isNaN(level)){
            alert("金字塔层数必须是纯数字")
        }
        for(var i = 1; i <= level; ++i) {
            var blank = level - i;
            for(var k = 0; k < blank; ++k) {
                document.write("&nbsp;");
            }
        }

        
    </script>
</body>
</html>
