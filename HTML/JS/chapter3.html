<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter3</title>
    
    <style>

        *{
            /* border: 1px solid #000; */
        }

        ul{
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            list-style-type: none;
        }
        
        li{
            padding: 1px 10px 0px 10px;
            line-height: 24px;
            height: 24px;
        }

        li:hover{
            background-color: #26c1cca8;
            color: #fff;
            transition-duration: 200ms;
        }

    </style>

</head>
<body>
    
    <div class="nav" id="navlist"></div>

    <select id="province">
        <option value="-1">请选择</option>
    </select>

    <select id="city"></select>
    <select id="country"></select>
    <script>
            //省份数组
		var provinceArr = ['上海', '江苏', '河北'];
		//城市数组
		var cityArr = [
			['上海市'],
			['苏州市', '南京市', '扬州市'],
			['石家庄', '秦皇岛', '张家口']
		];
		//区域数组
		var countryArr = [
			[
				['黄浦区', '静安区', '长宁区', '浦东区'],
			],
			[
				['虎丘区', '吴中区', '相城区', '姑苏区', '吴江区'],
				['玄武区', '秦淮区', '建邺区', '鼓楼区', '浦口区'],
				['邗江区', '广陵区', '江都区']
			],
			[
				['长安区', '桥西区', '新华区', '井陉矿区'],
				['海港区', '山海关区', '北戴河区', '抚宁区'],
				['桥东区', '桥西区', '宣化区', '下花园区']
			]
		];
        function createOption(obj, data) {
            for (var i in data) {
                var op = new Option(data[i], i);
                obj.options.add(op);
            }
        }
        var province = document.getElementById("province");
        createOption(province, provinceArr);
        var city = document.getElementById("city");
        province.onchange = function () {
            city.options.length = 0;
            createOption(city, cityArr[province.value]);
        }

        var country = document.getElementById("country");
        city.onchange = function () {
            country.options.length = 0;
            createOption(country, countryArr[province.value] [city.value]);
        }

        province.onchange = function () {
            city.options.length = 0;
            createOption(city, cityArr[province.value]);
            if (province.value >= 0) {
                city.onchange();
            } else {
                country.options.length = 0;
            }
        }
    </script>
    <script>

        // 3.2.1 create array
        var area = new Array("Beijing", "Shanghai", "Shenzhen");
        var score = new Array(56, 68, 98, 44);
        var mix = new Array(123, "abc", null, true, undefined);
        var arr1 = Array();

        // 3.2.2 use [] to create array
        var weather = ["wind", "fine"];
        var empty = [];
        var mood = ["sad", , , , "happy"];

        // 3.3.1 get the length of array
        var arr1 = [78, 88, 98];
        var arr2 = ["a", , , , "b", "c"];
        console.log(arr1.length);
        console.log(arr1.length);
        
        var arr1 = [];
        arr1.length = 5;
        console.log(arr1);
        var arr2 = [1, 2, 3];
        console.log(arr2);
        var arr3 = ["a", "b"];
        arr3.length = 2;
        console.log(arr3);
        var arr4 = ["hehe", "xixi", "gugu", "jiujiu"];
        arr4.length = 3;
        console.log(arr4);
        
        var arr = new Array(3);
        console.log(arr);
        
        // 3.3.2 Array access and traversal
        var arr = ["hello", "javascript", 22.48, true];
        console.log(arr[0]);
        console.log(arr[2]);
        console.log(arr);
        
        var navlist = ["首页", "免费资源", "课程中心", "IT学院", "学院故事", "线上学院", "技术社区"];
        var str = "<ul>";
        for(var i in navlist) {
            str += "<li><a>" + navlist[i] + "</a></li>";
        }
        str += "</ul>";
        document.getElementById("navlist").innerHTML = str;

        var arr = [1, 2, 3];
        for(var value of arr) {
            console.log(value);
        }

        // 3.3.3 add element and modify
        var height = [];
        height[5] = 183;
        height[0] = 175;
        height[3] = 150;
        console.log(height);
        
        var arr = ["Asa", "Taylor"];
        arr[2] = 123;
        arr[3] = 456;
        console.log(arr);
        
        var stu = ["Tom", "Jimmy", "Lucy"];
        console.log(stu);
        delete stu[1];
        console.log(stu);
        
        [a, b, c] = [1, 2, 3];
        console.log(a, b, c);

        var arr = [1, 2, 3];
        [a, b] = arr;
        console.log(a + " - " + b);
        var n1 = 4, n2 = 8;
        [n1, n2] = [n2, n1];
        console.log(n1 + " - " + n2);
        
        // 3.3.5 find biggest and smallest 
        var arr = [100, 7, 65, 54, 12, 6];
        var min = max = arr[0];
        for (var i = 0; i < arr.length; i++) {
            if( arr[i] > max ) {
                max = arr[i];
            }
            if( arr[i] < min ) {
                min = arr[i];
            }
        }
        console.log("待查找数组：" + arr);
        console.log("最小值：" + min);
        console.log("最大值：" + max);
        
        // 3.4.1 create and traversal
        var info = new Array(new Array("Tom", 13, 155), new Array("lucy", 11, 152));
        var arr = new Array(new Array, new Array);

        var num = [[1, 3], [2, 4]];
        var empty = [[], []];

        var arr = [[12, 59, 66], [100, 888]];
        var sum = 0;
        for(var i in arr) {
            for(var j in arr[i]){
                sum += arr[i][j];
            }
        }
        console.log("待求和的二维数组：" + arr);
        console.log("二维数组arr求和等于：" + sum);
        
        var arr = [];
        for(var i = 0; i < 3; i++){
            arr[i] = [];
            arr[i][0] = i;
        }

        // 3.4.2 two-dimensional array transpose
        var arr = [["a", "b", "c"],["d", "e", "f"],["g", "h", "i"], ["j", "k", "l"]];
        var res = [];
        for (var i = 0; i < arr[0].length; i++) {
            res[i] = [];
            for(var j = 0; j < arr.length; j++) {
                res[i][j] = arr[j][i];
            }
        }
        console.group("转置前：");
        console.log(arr);
        console.groupEnd();
        console.group("转置后：");
        console.log(res);
        console.groupEnd();

        // 3.5 array sort
        // 3.5.1 bubble sort
        var arr = [10, 2, 5, 27, 98, 32];
        console.log("待排序数组：" + arr);
        for(var i = 1; i < arr.length; i++) {
            for(var j = 0; j < arr.length - i; j++) {
                if(arr[j] > arr[j + 1]) {
                    [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
                }
                
            }
        }
        console.log("排序后的数组：" + arr);
        
        // 3.5.2 insert sort
        var arr = [89, 56, 100, 21, 87, 45, 1, 888];
        console.log("待排序的数组：" + arr);
        for (var i = 1; i < arr.length; i++) {
            for (var j = i; j > 0; j-- ) {
                if(arr[j - 1] > arr[j]) {
                    [arr[j], arr[j-1]] = [arr[j - 1], arr[j]];
                }
            }
        }
        console.log("排序后的数组：" + arr);
        
        // 3.6.1 stack and queue
        var arr = ["Rose", "Lily"];
        console.log("原数组：" + arr);
        var last = arr.pop();
        console.log("在末尾移出元素：" + last + " - 移出后数组：" + arr);
        var len = arr.push("Tulip", "Jasmine");
        console.log("在末尾添加元素后长度变为:" + " - 添加后数组：" + arr);
        var first = arr.shift();
        console.log("在开头移出元素：" + first + " - 移出后数组：" + arr);
        len = arr.unshift("Balsam", "sunflower");
        console.log("在开头添加元素后长度变为：" + len + " - 添加后数组：" + arr);
        
        // 3.6.2 search
        var data = ["peach", "pear", 26, "26", "grape"];
        console.log(data.includes(26, 3));
        console.log(data.includes(26, -3));
        console.log(Array.isArray(data));
        
        var arr = ["potato", "tomato", "chillies", "green-paper"];
        var search = "cucumber";
        if (arr.indexOf(search) === -1) {
            arr.push(search);
            console.log("更新后的数组为：" + arr);
        } else if (arr.indexOf(search) > -1) {
            console.log(search + "元素已在arr数组中");
        }

        var res = [];
        var arr = ["a", "b", "a", "c", "a", "d"];
        var search = "a";
        var i = arr.lastIndexOf(search);
        while (i !== -1) {
            res.push(i);
            i = (i > 0 ? arr.lastIndexOf(search, i - 1): -1);
        }
        console.log("元素" + search + "在数组中的所有位置为：" + res);
        
        // 3.6.3 Array to String
        console.log(["a", "b", "c"].join());
        console.log([[4, 5], [1, 2]].join());
        console.log(["a", "b", "c"].toString());
        console.log([[4, 5], [1, 2]].toString());
        
        // 3.6.4 other functions
        var arr = ["sky", "wind", "snow", "sun"];
	    arr.splice(2, 2);
	    console.log(arr);
        arr.splice(1, 1, "snow");
        console.log(arr);
        arr.splice(4, 0, "hail", "sun");
        console.log(arr);
        arr.splice(3, 0, ["lala", "yaya"], null, undefined, []);
        console.log(arr);
        
        // 3.6.5 monkey king
        var total = prompt("请输入猴子的总数：");
        var kick = prompt("踢出第几只猴子：");
        var monkey = [];
        for (var i = 1; i <= total; i++) {
            monkey.push(i);
        }
        i = 0;
        while(monkey.length > 1) {
            i++;
            head = monkey.shift();
            if(i % kick != 0) {
                monkey.push(head);
            }
        }
        console.log("猴王编号：" + monkey[0]);
        
        // Three-level linkage of provinces and cities
        var arr = [];

        for (var i = 0; i < 10; i++) {
            arr[i] = [];
            for (var j = 0; j <= i; j++) {
                if (j == 0 || j == i) {
                    arr[i][j] = 1;
                } else {
                    arr[i][j] = arr[i-1][j-1] + arr[i-1][j];
                }
            }
        }
        console.log(arr);
    </script>

</body>
</html>
